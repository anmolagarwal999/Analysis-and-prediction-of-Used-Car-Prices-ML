{% extends "parent.html" %}

{%block content%}
<!----------------------------------------------------------------------------->
<div class="container" id="form_div">
    <form method="POST" autocomplete="off">
        {{form.csrf_token}}




        <div class="form-row">
            <div class="form-group col-md-6">
                {{form.car_brand.label}} {{form.car_brand(class="form-control")}}

            </div>
            <div class="form-group col-md-6">
                {{form.car_model.label}}{{form.car_model(class="form-control")}}
            </div>
        </div>




        <div class="form-group">
            {{form.car_kms.label}}{{form.car_kms(class="form-control")}}
        </div>



        <div class="form-group">
            {{form.car_year.label}}{{form.car_year(class="form-control")}}
        </div>



        <div class="form-row">

            <div class="form-group col-md-6">
                {{form.car_owner.label}}{{form.car_owner(class='form-control')}}

            </div>

            <div class="form-group col-md-4">
                {{form.car_transmission.label}}{{form.car_transmission(class='form-control')}}

                </select>
            </div>

            <div class="form-group col-md-2">
                {{form.car_fuel.label}}{{form.car_fuel(class='form-control')}}

            </div>

        </div>




        <div class="form-row">
            <div class="form-group col-md-6">
                {{form.car_seats.label}} {{form.car_seats(class="form-control")}}

            </div>
            <div class="form-group col-md-6">
                {{form.car_engine.label}}{{form.car_engine(class="form-control")}}
            </div>
        </div>




        <button type="submit" class="btn btn-primary">Get prediction</button>
    </form>
</div>

<h1>{{ans}}</h1>




<!----------------------------------------------------------------------------->
{%endblock%}

{%block some_js%}
<script>

    $('#car_brand').on('change', function () {
        brand_now = this.value;

        $.getJSON('/brand/' + brand_now, function (dict) {
            console.log(dict);
            var inside_text = '';
            for (var i = 0; i < dict["models_list"].length; i++) {
                var model_name = dict["models_list"][i];
                inside_text += "<option value=" + model_name + ">" + model_name + "</option>";
            }
            $("#car_model").html(inside_text);
        });

    });
</script>
{%endblock%}